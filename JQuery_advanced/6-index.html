<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8" />
        <title>Task 0</title>
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
    </head>
    <body>
        <script type="application/javascript">
            function createFamilyTree(){
                $("body").append('<table></table>')
                $("table").append('<thead></thead>', "<tbody></tbody>")
                $("thead").append('<tr></tr>')
                $("thead tr").append("<th></th>", '<th></th>')
                $("th:first").text("Firstname")
                $("th:last").text("Lastname")
            }

            function addNewMember(firstName, lastName, position){
                if(position == "before"){
                    $("tbody").prepend(`<tr><td>${firstName}</td><td>${lastName}</td><td>(x)</td></tr>`)
                }else{
                    $("tbody").append(`<tr><td>${firstName}</td><td>${lastName}</td><td>(x)</td></tr>`)
                }
                
                $("tbody td:last-child").css({backgroundColor: "orange"})
                $("tbody tr td:last-child").click(function () {
                    $(this).parent().remove()
                })
            }

            function createForm(){
                let inputText1 = $("<input type='text' name='firstName'>");
                let inputText2 = $("<input type='text' name='lastName'>");
                let select = $(`
                    <select>
                        <option value="before">Before</option>
                        <option value="after">After</option>
                    </select>
                `)
                let button = $("<input type='submit'>")
                let table = $("table")
                table.before(inputText1)
                table.before(inputText2)
                table.before(select)
                table.before(button)
                $('input:last').click(function(){
                    addNewMember(inputText1.val(), inputText2.val(), select.val())
                })
            }

            createFamilyTree()
            createForm()
            
        </script>
    </body>
</html>